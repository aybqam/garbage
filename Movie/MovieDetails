import { getMovieDetails } from "@/lib/tmdb";

interface MovieDetailPageProps {
Â  params: { id: string };
}

export default async function MovieDetailPage({ params }: MovieDetailPageProps) {
Â  try {
Â Â Â  // âœ… Ensure ID exists and fetch data
Â Â Â  const movie = await getMovieDetails(params.id);

Â Â Â  if (!movie) {
Â Â Â Â Â  throw new Error("Movie not found");
Â Â Â  }

Â Â Â  // âœ… Safe image fallback
Â Â Â  const img = movie.poster_path
Â Â Â Â Â  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`
Â Â Â Â Â  : "/no-image.jpg";

Â Â Â  return (
Â Â Â Â Â  <main className="min-h-screen bg-gray-900 text-white p-6 flex flex-col items-center">
Â Â Â Â Â Â Â  <img
Â Â Â Â Â Â Â Â Â  src={img}
Â Â Â Â Â Â Â Â Â  alt={movie.title || movie.name || "No Title"}
Â Â Â Â Â Â Â Â Â  className="w-72 rounded-lg mb-6 shadow-lg"
Â Â Â Â Â Â Â  />
Â Â Â Â Â Â Â  <h1 className="text-3xl font-bold mb-4 text-center">
Â Â Â Â Â Â Â Â Â  {movie.title || movie.name}
Â Â Â Â Â Â Â  </h1>
Â Â Â Â Â Â Â  {movie.overview ? (
Â Â Â Â Â Â Â Â Â  <p className="max-w-2xl text-center text-gray-300">{movie.overview}</p>
Â Â Â Â Â Â Â  ) : (
Â Â Â Â Â Â Â Â Â  <p className="text-gray-500 italic">No description available.</p>
Â Â Â Â Â Â Â  )}
Â Â Â Â Â Â Â  <p className="mt-4 text-gray-400">
Â Â Â Â Â Â Â Â Â  â­ {movie.vote_average?.toFixed(1) ?? "N/A"} | ğŸ“…{" "}
Â Â Â Â Â Â Â Â Â  {movie.release_date || movie.first_air_date || "Unknown"}
Â Â Â Â Â Â Â  </p>
Â Â Â Â Â  </main>
Â Â Â  );
Â  } catch (error) {
Â Â Â  // âœ… Graceful fallback UI
Â Â Â  return (
Â Â Â Â Â  <main className="min-h-screen bg-gray-900 text-white flex items-center justify-center">
Â Â Â Â Â Â Â  <div className="text-center">
Â Â Â Â Â Â Â Â Â  <h1 className="text-3xl font-bold mb-4">âŒ Movie Not Found</h1>
Â Â Â Â Â Â Â Â Â  <p className="text-gray-400">
Â Â Â Â Â Â Â Â Â Â Â  We couldnâ€™t find details for this title. Try another one.
Â Â Â Â Â Â Â Â Â  </p>
Â Â Â Â Â Â Â  </div>
Â Â Â Â Â  </main>
Â Â Â  );
Â  }
}




âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…



import { getMovieDetails } from "@/lib/tmdb";
import Image from "next/image";

interface MoviePageProps {
Â  params: { id: string };
}

export default async function MovieDetailPage({ params }: MoviePageProps) {
Â  try {
Â Â Â  const movie = await getMovieDetails(params.id);

Â Â Â  if (!movie || !movie.id) {
Â Â Â Â Â  throw new Error("Movie not found");
Â Â Â  }

Â Â Â  const imageUrl = movie.poster_path
Â Â Â Â Â  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`
Â Â Â Â Â  : "/no-image.jpg";

Â Â Â  return (
Â Â Â Â Â  <main className="min-h-screen bg-gray-900 text-white p-6 flex flex-col items-center">
Â Â Â Â Â Â Â  <div className="w-72 h-auto mb-6 relative">
Â Â Â Â Â Â Â Â Â  <Image
Â Â Â Â Â Â Â Â Â Â Â  src={imageUrl}
Â Â Â Â Â Â Â Â Â Â Â  alt={movie.title || movie.name || "No title"}
Â Â Â Â Â Â Â Â Â Â Â  width={500}
Â Â Â Â Â Â Â Â Â Â Â  height={750}
Â Â Â Â Â Â Â Â Â Â Â  className="rounded-lg object-cover"
Â Â Â Â Â Â Â Â Â Â Â  priority
Â Â Â Â Â Â Â Â Â  />
Â Â Â Â Â Â Â  </div>

Â Â Â Â Â Â Â  <h1 className="text-3xl font-bold mb-4 text-center">
Â Â Â Â Â Â Â Â Â  {movie.title || movie.name || "Untitled"}
Â Â Â Â Â Â Â  </h1>

Â Â Â Â Â Â Â  {movie.overview ? (
Â Â Â Â Â Â Â Â Â  <p className="max-w-2xl text-center text-gray-300">{movie.overview}</p>
Â Â Â Â Â Â Â  ) : (
Â Â Â Â Â Â Â Â Â  <p className="max-w-2xl text-center text-gray-500 italic">
Â Â Â Â Â Â Â Â Â Â Â  No overview available.
Â Â Â Â Â Â Â Â Â  </p>
Â Â Â Â Â Â Â  )}

Â Â Â Â Â Â Â  <p className="mt-4 text-gray-400">
Â Â Â Â Â Â Â Â Â  â­ {movie.vote_average?.toFixed(1) ?? "N/A"} | ğŸ“…{" "}
Â Â Â Â Â Â Â Â Â  {movie.release_date || movie.first_air_date || "Unknown"}
Â Â Â Â Â Â Â  </p>
Â Â Â Â Â  </main>
Â Â Â  );
Â  } catch (error) {
Â Â Â  return (
Â Â Â Â Â  <main className="min-h-screen bg-gray-900 text-white flex items-center justify-center">
Â Â Â Â Â Â Â  <div className="text-center">
Â Â Â Â Â Â Â Â Â  <h1 className="text-3xl font-bold mb-4">âŒ Movie Not Found</h1>
Â Â Â Â Â Â Â Â Â  <p className="text-gray-400">
Â Â Â Â Â Â Â Â Â Â Â  We couldnâ€™t find details for this title. Please try another one.
Â Â Â Â Â Â Â Â Â  </p>
Â Â Â Â Â Â Â  </div>
Â Â Â Â Â  </main>
Â Â Â  );
Â  }
}
